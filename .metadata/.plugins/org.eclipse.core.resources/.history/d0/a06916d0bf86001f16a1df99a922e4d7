package co.edu.uco.ucobet.data.dao.impl.sqlserver;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.List;
import java.util.UUID;

import co.edu.uco.crosscutting.helpers.UUIDHelper;
import co.edu.uco.ucobet.data.dao.CountryDAO;
import co.edu.uco.ucobet.entity.CountryEntity;

public class CountrySqlServerDAO implements CountryDAO {

//	private final String url = "jdbc:sqlserver://ucobet-server.database.windows.net:1433;database=ucobet-db";
//	private final String user = "ucobetdbuser";
//	private final String password = "uc0b3tdbus3r!";
	
	private final String url = "jdbc:postgresql://localhost:5432/baseJavaPractica";
	private final String user = "postgres";
	private final String password = "123456";
	@Override
	public CountryEntity fingByID(UUID id) {
		String instruccionSQL="SELECT id,nombre FROM country WHERE id=?";
		try(Connection connection = DriverManager.getConnection(url, user, password);){
			if(connection != null) {
				PreparedStatement miSentencia = connection.prepareStatement(instruccionSQL);
				miSentencia.setString(1, id.toString());
				ResultSet miResultset = miSentencia.executeQuery();
				while(miResultset.next()) {
					System.out.print("\n"+miResultset.getString(1)+" "+miResultset.getString(2) );
				}
				miResultset.close();
			}else {
				System.out.print("Failed to connect Post");
			}
		} catch (SQLException e) {
			e.printStackTrace();
		}
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public List<CountryEntity> findAll() {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public List<CountryEntity> findByFilter(CountryEntity filter) {
		// TODO Auto-generated method stub
		return null;
	}

	public static void main(String[] args) {
		CountrySqlServerDAO prueba = new CountrySqlServerDAO();
		String uuidS = "b3c2417b-5915-498f-8453-1f4eef7f2884";
		UUID stringTOuuid = UUIDHelper.convertToUUID(uuidS);
		prueba.fingByID(stringTOuuid);
	}
}
